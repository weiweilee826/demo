"use strict";(self["webpackChunkoats2022"]=self["webpackChunkoats2022"]||[]).push([[928],{2928:function(t,e,r){r.r(e),r.d(e,{default:function(){return j}});var s=r(3396),l=r(7139);const o={class:"container-fluid"},c={class:"customer-card container"},n=(0,s.uE)('<h4 class="fw-bold text-center">確認您的訂單資料</h4><ul class="progress"><li class="is-complete">訂單資訊</li><li class="is-complete">確認</li><li class="progress__last">完成</li></ul>',2),a={class:"order_info mt-3"},u=(0,s._)("tr",{class:"border_b text-center"},[(0,s._)("td",{class:"border_r"},"產品名稱"),(0,s._)("td",null,"價格"),(0,s._)("td",null,"數量"),(0,s._)("td",null,"小計")],-1),i={class:"border_r text-start"},d={class:"text-end"},_={class:"text-center"},f={class:"text-end"},m={class:"border_t"},b=(0,s._)("td",{class:"border_r"},"總計",-1),h={colspan:"3",class:"text-end"},w={class:""},p=(0,s._)("td",{class:"border_r"},"折扣",-1),k={colspan:"3",class:"text-end"},U=(0,s._)("h5",{class:"fw-bold mt-5 border_b"},"顧客資訊",-1),v={class:"customer_info"},I=(0,s._)("br",null,null,-1),g=(0,s._)("br",null,null,-1),y=(0,s._)("h5",{class:"fw-bold mt-5 border_b"},"送貨資訊",-1),z={class:"customer_info"},D=(0,s._)("br",null,null,-1),x=(0,s._)("br",null,null,-1),S=(0,s._)("br",null,null,-1),$=(0,s._)("h5",{class:"fw-bold mt-5 border_b"},"付款資訊",-1),O={key:0,class:"customer_info"},N=(0,s._)("br",null,null,-1),T=(0,s._)("br",null,null,-1),X=(0,s._)("br",null,null,-1),C={key:1,class:"customer_info"},W=(0,s._)("br",null,null,-1),q=(0,s._)("br",null,null,-1),J=(0,s._)("br",null,null,-1),E={class:"mt-5 text-center"};function H(t,e,r,H,K,Y){const Z=(0,s.up)("font-awesome-icon"),j=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",c,[n,(0,s._)("div",null,[(0,s.Wm)(j,{to:"/cart_info"},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{icon:"fa-solid fa-chevron-left"}),(0,s.Uk)(" 更正您的資料")])),_:1})]),(0,s._)("table",a,[u,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(K.carts,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",i,(0,l.zw)(e.product.title),1),(0,s._)("td",d,(0,l.zw)(t.$filters.currencyUSD(e.product.price)),1),(0,s._)("td",_,(0,l.zw)(e.qty),1),(0,s._)("td",f,(0,l.zw)(t.$filters.currencyUSD(e.total)),1)])))),128)),(0,s._)("tr",m,[b,(0,s._)("td",h,(0,l.zw)(t.$filters.currencyUSD(t.total)),1)]),(0,s._)("tr",w,[p,(0,s._)("td",k,(0,l.zw)(t.$filters.currencyUSD(K.final_total)),1)])]),U,(0,s._)("p",v,[(0,s.Uk)(" 姓名："+(0,l.zw)(K.customerInfo.user.name)+" ",1),I,(0,s.Uk)(" 電話號碼："+(0,l.zw)(K.customerInfo.user.tel),1),g,(0,s.Uk)(" 郵箱地址："+(0,l.zw)(K.customerInfo.user.email),1)]),y,(0,s._)("p",z,[(0,s.Uk)(" 姓名："+(0,l.zw)(K.customerInfo.receiver.name),1),D,(0,s.Uk)(" 地址："+(0,l.zw)(K.customerInfo.receiver.county+K.customerInfo.receiver.address),1),x,(0,s.Uk)(" 電話號碼："+(0,l.zw)(K.customerInfo.receiver.tel),1),S]),$,0==K.final_total?((0,s.wg)(),(0,s.iD)("p",O,[(0,s.Uk)(" 銀行代號 國泰世華 (013) "),N,(0,s.Uk)(" 虛擬帳戶 282123X643109X99 "),T,(0,s.Uk)(" 繳費金額(NTD) "+(0,l.zw)(t.$filters.currencyUSD(t.total)),1),X])):((0,s.wg)(),(0,s.iD)("p",C,[(0,s.Uk)(" 銀行代號 國泰世華 (013) "),W,(0,s.Uk)(" 虛擬帳戶 282123X643109X99 "),q,(0,s.Uk)(" 繳費金額(NTD) "+(0,l.zw)(t.$filters.currencyUSD(K.final_total)),1),J])),(0,s._)("div",E,[(0,s.Wm)(j,{to:"/order_done"},{default:(0,s.w5)((()=>[(0,s._)("button",{type:"button",class:"btn btn-outline-light text-center checkout",onClick:e[0]||(e[0]=(...t)=>Y.sendOrder&&Y.sendOrder(...t))}," 完成您的訂單 ")])),_:1})])])])}var K={components:{},data(){return{customerInfo:{},carts:[],totel:0,final_total:0}},methods:{sendOrder(){console.log("123");const t="https://vue-course-api.hexschool.io/api/weiwei2022/order",e={user:{name:this.customerInfo.receiver.name,email:this.customerInfo.user.email,tel:this.customerInfo.receiver.tel,address:this.customerInfo.receiver.county+this.customerInfo.receiver.address,message:this.customerInfo.receiver.message},message:""};this.$http.post(t,{data:e}).then((t=>{console.log("456",t)}))},countTotal(){this.total=this.carts.reduce((function(t,e){return t+e.qty*e.product.price}),0),this.final_total=this.carts.reduce((function(t,e){return t+e.final_total}),0)}},created(){this.customerInfo=JSON.parse(localStorage.getItem("customerInfo")),this.carts=JSON.parse(localStorage.getItem("carts")),this.countTotal()}},Y=r(89);const Z=(0,Y.Z)(K,[["render",H]]);var j=Z}}]);
//# sourceMappingURL=928.32243112.js.map